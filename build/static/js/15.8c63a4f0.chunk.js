webpackJsonp([15],{177:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n.n(i),s=n(256),c=(n.n(s),n(11)),A=n(19),m=n.n(A),g=n(12),d=(n.n(g),n(13)),p=n.n(d),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=p.a.connect(c.a),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.challenge=function(e){console.log(e.target.id),new Promise(function(t,a){m.a.create({timeout:1e3,headers:{"X-Custom-Header":"foobar",Authorization:localStorage.getItem("token")||""}}).post(c.a+"/api/user-challenge",{player1:localStorage.getItem("user-id"),player2:e.target.id,game:n.state.game,gameOption:n.state.gameOption}).then(function(e){console.log(e.data.data),!1===e.data.error?f.emit("challenge request",{player1_Name:localStorage.getItem("user-name"),player1:localStorage.getItem("user-id"),player2:e.data.data.player2_id,game:e.data.data.gameId,gameOption:e.data.data.gameOptionId,challengeStatus:e.data.data.challengeStatus}):n.props.history.push("/login"),t()}).catch(function(e){console.log(e)})})},n.state={onlineUser:[],game:0,gameOption:0},n}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this,t=this,n=window.location.href,a=n.split("/");a[4]&&a[4],t.setState({game:a[4]},function(){console.log("success",e.state.game)}),a[5]&&a[5],t.setState({gameOption:a[5]},function(){console.log("success",e.state.gameOption)}),new Promise(function(n,a){m.a.create({timeout:1e3,headers:{"X-Custom-Header":"foobar",Authorization:localStorage.getItem("token")||""}}).post(c.a+"/api/challenge",{data:e.props.onlineUser}).then(function(e){console.log("componentWillMount response",e.data.data),!1===e.data.error?(console.log("show",e.data.data),t.setState({onlineUser:e.data.data},function(){localStorage.setItem("onlineUser",JSON.stringify(e.data.data))})):t.props.history.push("/login"),n()}).catch(function(e){console.log(e)})})}},{key:"render",value:function(){var e=this,t=this.state.onlineUser;console.log("render",t);var n;if(null!==t)var a=t.map(function(t,a){if(t.userEmail!==localStorage.getItem("user-email")){if(null!==t.userProfilePath){var o=c.a+"/"+t.userProfilePath;n=r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-6 col-6 online agileinfo-team-grid p-0"},r.a.createElement("img",{src:o,alt:t.userName}),";",r.a.createElement("div",{className:"captn"},r.a.createElement("h4",null,t.userName),r.a.createElement("div",{className:"w3l-social"},r.a.createElement("button",{className:"btn btn-success",id:t.id,onClick:e.challenge},"Challenge")),r.a.createElement("h5",null,t.userUniqueID)))}else n=r.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-6 col-6 w3l-thead d-flex online agileinfo-team-grid justify-content-center"},r.a.createElement("h3",{className:"align-self-center text-white"},t.userName),r.a.createElement("div",{className:"captn"},r.a.createElement("div",{className:"w3l-social"},r.a.createElement("button",{className:"btn btn-success",id:t.id,onClick:e.challenge},"Challenge")),r.a.createElement("h5",null,t.userUniqueID)));return n}});return r.a.createElement("section",{id:"player_challenge",className:"challenge"},r.a.createElement("div",{className:"challenge_header"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mainbox"},r.a.createElement("div",{className:"row"},a))))}}]),t}(i.Component);t.default=h},256:function(e,t,n){var a=n(257);"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!1};o.transform=void 0;n(174)(a,o);a.locals&&(e.exports=a.locals)},257:function(e,t,n){t=e.exports=n(173)(!0),t.push([e.i,".challenge{position:relative;margin-top:70px;margin-bottom:40px}.challenge_header{width:80%;height:80px;position:absolute;top:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);margin-top:-40px;background:#007bff}.agileinfo-team-grid{position:relative;overflow:hidden}.agileinfo-team-grid img{max-width:100%}.online{width:250px;height:170px;border:3px solid #1c1c1c}.captn{background:rgba(0,0,0,.4);padding:1em;position:absolute;left:10%;bottom:-100%;text-align:center;width:150px;height:109px;-webkit-transition:all .5s;-o-transition:.5s all;transition:all .5s;-moz-transition:.5s all}.captn h4{font-size:1.5em;color:#fff}.captn h5{line-height:2em;color:#fff}.agileinfo-team-grid:hover .captn{bottom:18%}.team-grids:nth-child(2){padding:.3em 0}.w3l-thead{background:#007bff}.wt1{background:#cd2029}","",{version:3,sources:["/var/www/html/gamefusion_master/src/PlayerChallenge.css"],names:[],mappings:"AAAA,WACC,kBAAmB,AACnB,gBAAiB,AACjB,kBAAoB,CACpB,AAED,kBACC,UAAW,AACX,YAAa,AACb,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,mCAAoC,AAChC,+BAAgC,AAC5B,2BAA4B,AACpC,iBAAkB,AAClB,kBAAoB,CACpB,AAED,qBACC,kBAAmB,AACnB,eAAiB,CACjB,AAED,yBACC,cAAgB,CAChB,AAED,QACC,YAAa,AACb,aAAc,AACd,wBAA0B,CAE1B,AAED,OACC,0BAA+B,AAC/B,YAAa,AACb,kBAAmB,AACnB,SAAU,AACV,aAAc,AACd,kBAAmB,AACnB,YAAa,AACb,aAAc,AACd,2BAA4B,AAC5B,sBAAuB,AACvB,mBAAoB,AACpB,uBAAyB,CACzB,AAED,UACC,gBAAiB,AACjB,UAAY,CACZ,AAED,UACC,gBAAiB,AACjB,UAAY,CACZ,AAED,kCACC,UAAY,CACZ,AAED,yBACC,cAAgB,CAChB,AAED,WACC,kBAAoB,CACpB,AAED,KACC,kBAAoB,CACpB",file:"PlayerChallenge.css",sourcesContent:[".challenge {\n\tposition: relative;\n\tmargin-top: 70px;\n\tmargin-bottom: 40px;\n}\n\n.challenge_header {\n\twidth: 80%;\n\theight: 80px;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\t-webkit-transform: translateX(-50%);\n\t    -ms-transform: translateX(-50%);\n\t        transform: translateX(-50%);\n\tmargin-top: -40px;\n\tbackground: #007bff;\n}\n\n.agileinfo-team-grid {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.agileinfo-team-grid img {\n\tmax-width: 100%;\n}\n\n.online {\n\twidth: 250px;\n\theight: 170px;\n\tborder: 3px solid #1c1c1c;\n\t\n}\n\n.captn {\n\tbackground: rgba(0, 0, 0, 0.4);\n\tpadding: 1em;\n\tposition: absolute;\n\tleft: 10%;\n\tbottom: -100%;\n\ttext-align: center;\n\twidth: 150px;\n\theight: 109px;\n\t-webkit-transition: .5s all;\n\t-o-transition: .5s all;\n\ttransition: .5s all;\n\t-moz-transition: .5s all;\n}\n\n.captn h4 {\n\tfont-size: 1.5em;\n\tcolor: #fff;\n}\n\n.captn h5 {\n\tline-height: 2em;\n\tcolor: #fff;\n}\n\n.agileinfo-team-grid:hover .captn {\n\tbottom: 18%;\n}\n\n.team-grids:nth-child(2) {\n\tpadding: .3em 0;\n}\n\n.w3l-thead {\n\tbackground: #007bff;\n}\n\n.wt1 {\n\tbackground: #cd2029;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=15.8c63a4f0.chunk.js.map