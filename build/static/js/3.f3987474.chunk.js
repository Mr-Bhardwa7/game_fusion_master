webpackJsonp([3],{185:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),c=n(11),u=n(191),l=n(19),p=n.n(l),f=n(317),d=(n.n(f),n(319)),A=n(63),h=n.n(A),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateState=function(e,t){n.setState({errorMessage:e,successMessage:t})},n.state={data:[],errorMessage:"",successMessage:""},n}return a(t,e),y(t,[{key:"componentWillMount",value:function(){var e=this;new Promise(function(t,n){p.a.create({timeout:1e3,headers:{"X-Custom-Header":"foobar",Authorization:localStorage.getItem("token")||""}}).post(c.a+"/api/coin-offers").then(function(n){console.log(n.data.data),!1===n.data.error?e.setState({data:n.data.data}):e.props.history.push("/login"),t()}).catch(function(e){console.log(e)})})}},{key:"componentDidMount",value:function(){new Promise(function(e,t){p.a.create({timeout:1e3,headers:{"X-Custom-Header":"foobar",Authorization:localStorage.getItem("token")||""}}).post(c.a+"/api/user-coin",{userid:localStorage.getItem("user-id")}).then(function(t){console.log(t.data.data[0].currentCoins),!1===t.data.error&&localStorage.setItem("user-coin",t.data.data[0].currentCoins),e()})})}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(t){var n=new Date(t.endDate),o=n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear();return s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"offer"},s.a.createElement("label",null," valid till : ",o),s.a.createElement("span",null," ",s.a.createElement("img",{src:h.a,alt:""})," ",t.offerCoin,"= Rs. ",t.offerValue),s.a.createElement(d.a,{amount:t.offerValue,offerId:t.id,offerCoin:t.offerCoin,updateState:e.updateState})))});return s.a.createElement("div",{className:"coinsoffer"},s.a.createElement("div",{className:"coins-offer-heading"},s.a.createElement("h2",null," Coins Offer")),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"mainbox"},s.a.createElement(u.a,{message:this.state}),s.a.createElement("h3",{className:"best-deal"}," Best Deal"),s.a.createElement("div",{className:"row"},t))))}}]),t}(i.Component);t.default=g},191:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){var e;return""!==this.props.message.errorMessage&&""===this.props.message.successMessage?e=s.a.createElement("div",{className:"alert alert-danger"},s.a.createElement("strong",null,"Opps!")," ",this.props.message.errorMessage,"."):""===this.props.message.errorMessage&&""!==this.props.message.successMessage&&(e=s.a.createElement("div",{className:"alert alert-success"},s.a.createElement("strong",null,"Opps!")," ",this.props.message.successMessage,".")),s.a.createElement("div",null,e)}}]),t}(i.Component);t.a=u},317:function(e,t,n){var o=n(318);"string"===typeof o&&(o=[[e.i,o,""]]);var r={hmr:!1};r.transform=void 0;n(174)(o,r);o.locals&&(e.exports=o.locals)},318:function(e,t,n){t=e.exports=n(173)(!0),t.push([e.i,".coinsoffer{padding:80px 0 40px;position:relative}.coins-offer-heading{position:absolute;height:80px;width:80%;background:#007bff;left:10%;margin-top:-40px;text-align:center}.coins-offer-heading h2{color:#fff;font-weight:900;font-size:30px;padding-top:15px}.best-deal{text-align:center;color:#ff0;font-weight:500;border-bottom:1px solid #ff0;padding:0 0 10px}.offer{position:relative;border:1px solid #ff0;margin-top:50px;color:#fff;padding:40px;font-size:22px;text-align:center;background:rgba(0,0,0,.4);border-radius:10px}.offer label{position:absolute;padding:10px;color:#000;top:0;right:0;background:#ff0;border-radius:10px;margin:-20px;font-weight:900}.offer span img{width:40px}.offer button,.paypal-button{margin-top:30px}","",{version:3,sources:["/var/www/html/gamefusion_master/src/user/CoinsOffer.css"],names:[],mappings:"AAAA,YACC,oBAAuB,AACvB,iBAAmB,CACnB,AACD,qBACC,kBAAmB,AACnB,YAAa,AACb,UAAW,AACX,mBAAoB,AACpB,SAAU,AACV,iBAAkB,AAClB,iBAAmB,CACnB,AACD,wBACC,WAAY,AACZ,gBAAiB,AACjB,eAAgB,AAChB,gBAAkB,CAElB,AACD,WACC,kBAAmB,AACnB,WAAc,AACd,gBAAiB,AACjB,6BAAgC,AAChC,gBAAuB,CACvB,AACD,OACC,kBAAmB,AACnB,sBAAyB,AACzB,gBAAiB,AACjB,WAAY,AACZ,aAAc,AACd,eAAgB,AAChB,kBAAmB,AACnB,0BAA4B,AAC5B,kBAAqB,CACrB,AACD,aACC,kBAAmB,AACnB,aAAc,AACd,WAAY,AACZ,MAAO,AACP,QAAS,AACT,gBAAmB,AACnB,mBAAoB,AACpB,aAAc,AACd,eAAiB,CACjB,AACD,gBACC,UAAY,CACZ,AAKD,6BACC,eAAiB,CACjB",file:"CoinsOffer.css",sourcesContent:[".coinsoffer {\n\tpadding: 80px 0 40px 0;\n\tposition: relative;\n}\n.coins-offer-heading{\n\tposition: absolute;\n\theight: 80px;\n\twidth: 80%;\n\tbackground: #007bff;\n\tleft: 10%;\n\tmargin-top: -40px;\n\ttext-align: center;\n}\n.coins-offer-heading h2{\n\tcolor: #fff;\n\tfont-weight: 900;\n\tfont-size: 30px;\n\tpadding-top: 15px;\n\n}\n.best-deal{\n\ttext-align: center;\n\tcolor: yellow;\n\tfont-weight: 500;\n\tborder-bottom: 1px solid yellow;\n\tpadding: 0px  0 10px 0;\n}\n.offer {\n\tposition: relative;\n\tborder :1px solid yellow;\n\tmargin-top: 50px;\n\tcolor: #fff;\n\tpadding: 40px;\n\tfont-size: 22px;\n\ttext-align: center;\n\tbackground: rgba(0,0,0,0.4);\n\tborder-radius:  10px;\n}\n.offer label {\n\tposition: absolute;\n\tpadding: 10px;\n\tcolor: #000;\n\ttop: 0;\n\tright: 0;\n\tbackground: yellow;\n\tborder-radius: 10px;\n\tmargin: -20px;\n\tfont-weight: 900;\n}\n.offer span img{\n\twidth: 40px;\n}\n.offer button {\n\tmargin-top: 30px;\n}\n\n.paypal-button {\n\tmargin-top: 30px;\n}"],sourceRoot:""}])},319:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(11),u=n(19),l=n.n(u),p=n(320),f=n.n(p),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),A=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"render",value:function(){var e=this,t=function(t){console.log("The payment was succeeded!",t),new Promise(function(n,o){l.a.create({timeout:1e3,headers:{"X-Custom-Header":"foobar",Authorization:localStorage.getItem("token")||""}}).post(c.a+"/paypal-details",{userId:localStorage.getItem("user-id"),offerId:e.props.offerId,offerCoin:e.props.offerCoin,paymentId:t.paymentID,paymentStatus:t.paid}).then(function(t){!1===t.data.error&&e.props.updateState("",t.data.message),!0===t.data.error&&e.props.updateState(t.data.message,""),n()})})},n=function(e){console.log("The payment was cancelled!",e)},o=function(e){console.log("Error!",e)},r=this.props.amount,a={sandbox:"AQJUqF-l_LnaMPPuBB6OAsWSYmzk93VI8666gZmn-x6ddJgtl7dqYt6R1RLapZxoXXQnURqf1ItK0g-J",production:"YOUR-PRODUCTION-APP-ID"};return s.a.createElement(f.a,{env:"sandbox",client:a,currency:"INR",total:r,onError:o,onSuccess:t,onCancel:n})}}]),t}(s.a.Component);t.a=A},320:function(e,t,n){e.exports=n(321)},321:function(e,t,n){var o,r,a;!function(i,s){r=[t,n(0),n(62),n(322),n(3)],o=s,void 0!==(a="function"===typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t,n,o,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=a(t),l=a(n),p=a(o),f=a(r),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),A=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.React=u.default,window.ReactDOM=l.default,n.state={showButton:!1},n}return c(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,n=e.isScriptLoadSucceed;this.state.show||t&&!this.props.isScriptLoaded&&(n?this.setState({showButton:!0}):(console.log("Cannot load Paypal script!"),this.props.onError()))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,n=e.isScriptLoadSucceed;t&&n&&this.setState({showButton:!0})}},{key:"render",value:function(){var e=this,t=function(){return paypal.rest.payment.create(e.props.env,e.props.client,{transactions:[{amount:{total:e.props.total,currency:e.props.currency}}]},{input_fields:{no_shipping:e.props.shipping}})},n=function(t,n){return n.payment.execute().then(function(n){var o=Object.assign({},e.props.payment);o.paid=!0,o.cancelled=!1,o.payerID=t.payerID,o.paymentID=t.paymentID,o.paymentToken=t.paymentToken,o.returnUrl=t.returnUrl,o.address=n.payer.payer_info.shipping_address,o.email=n.payer.payer_info.email,e.props.onSuccess(o)})},o="";return this.state.showButton&&(o=u.default.createElement(paypal.Button.react,{env:this.props.env,client:this.props.client,style:this.props.style,payment:t,commit:!0,onAuthorize:n,onCancel:this.props.onCancel})),u.default.createElement("div",null,o)}}]),t}(u.default.Component);A.propTypes={currency:f.default.string.isRequired,total:f.default.number.isRequired,client:f.default.object.isRequired,style:f.default.object},A.defaultProps={env:"sandbox",shipping:null,onSuccess:function(e){console.log("The payment was succeeded!",e)},onCancel:function(e){console.log("The payment was cancelled!",e)},onError:function(e){console.log("Error loading Paypal script!",e)}},e.default=(0,p.default)("https://www.paypalobjects.com/api/checkout.js")(A)})},322:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.noop,n=function(e){if(m.indexOf(e)<0)return function(t){var n=b[e]||[];if(n.push(t),b[e]=n,1===n.length)return(0,g.newScript)(e)(function(t){b[e].forEach(function(n){return n(t,e)}),delete b[e]})}},o=e.map(function(e){return Array.isArray(e)?e.map(n):n(e)});g.series.apply(void 0,s(o))(function(e,t){e?v.push(t):Array.isArray(t)?t.forEach(C):C(t)})(function(e){w(),t(e)})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.startLoadingScripts=c;var p=n(0),f=o(p),d=n(3),A=o(d),h=n(323),y=o(h),g=n(324),m=[],b={},v=[],C=function(e){m.indexOf(e)<0&&m.push(e)},w=function(){v.length>0&&(v.forEach(function(e){var t=document.querySelector("script[src='"+e+"']");null!=t&&t.parentNode.removeChild(t)}),v=[])},B=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=function(n){function o(e,t){r(this,o);var n=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));return n.state={isScriptLoaded:!1,isScriptLoadSucceed:!1},n._isMounted=!1,n}return i(o,n),l(o,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,c(t,function(t){e._isMounted&&e.setState({isScriptLoaded:!0,isScriptLoadSucceed:!t},function(){t||e.props.onScriptLoaded()})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=u({},this.props,this.state);return f.default.createElement(e,t)}}]),o}(p.Component);return n.propTypes={onScriptLoaded:A.default.func},n.defaultProps={onScriptLoaded:g.noop},(0,y.default)(n,e)}};t.default=B},323:function(e,t,n){"use strict";var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},a="function"===typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!==typeof t){var i=Object.getOwnPropertyNames(t);a&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;++s)if(!o[i[s]]&&!r[i[s]]&&(!n||!n[i[s]]))try{e[i[s]]=t[i[s]]}catch(e){}}return e}},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(t.isDefined=function(e){return null!=e},t.isFunction=function(e){return"function"===typeof e}),r=(t.noop=function(e){},t.newScript=function(e){return function(t){var n=document.createElement("script");return n.src=e,n.addEventListener("load",function(){return t(null,e)}),n.addEventListener("error",function(){return t(!0,e)}),document.body.appendChild(n),n}},function(e){var t=Object.keys(e),n=-1;return{next:function(){return n++,n>=t.length?null:t[n]}}}),a=t.parallel=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var r=!1,a=0,i=[];t=t.filter(o),t.length<=0?n(null):t.forEach(function(s,c){s(function(s){for(var u=arguments.length,l=Array(u>1?u-1:0),p=1;p<u;p++)l[p-1]=arguments[p];s?r=!0:(l.length<=1&&(l=l[0]),i[c]=l,a++),o(e)&&e.call(null,s,l,c),r?n(!0):t.length===a&&n(null,i)})})}}};t.series=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){t=t.filter(function(e){return null!=e});var i=r(t),s=function(){var n=i.next(),o=t[n];return Array.isArray(o)&&(o=a.apply(null,o).call(null,e)),[+n,o]},c=void 0,u=void 0,l=s();if(c=l[0],null==(u=l[1]))return n(null);var p=[];!function t(){u(function(r){for(var a=arguments.length,i=Array(a>1?a-1:0),f=1;f<a;f++)i[f-1]=arguments[f];if(i.length<=1&&(i=i[0]),o(e)&&e.call(null,r,i,c),r)n(r);else{if(p.push(i),l=s(),c=l[0],null==(u=l[1]))return n(null,p);t()}})}()}}}}});
//# sourceMappingURL=3.f3987474.chunk.js.map